function alertMsgWpTiger(msg) {
    alert(msg);
}

function enableTestDatabaseCredentials() {
    var str = document.getElementById("dbpass").value;
    if (str != '') {
        document.getElementById("Test-Database-Credentials").disabled = false;
    }
    else {
        document.getElementById("Test-Database-Credentials").disabled = true;
    }
}

function enableTestVtigerCredentials() {
    var str = document.getElementById("MSS_host_access_key").value;
    if (str != '') {
        document.getElementById("Test-Vtiger-Credentials").disabled = false;
    }
    else {
        document.getElementById("Test-Vtiger-Credentials").disabled = true;
    }
}

function msst_validate_Fields() {
    var no_of_fields = jQuery('#no_of_vt_fields').val();
    for (var i = 0; i < no_of_fields; i++) {
        if (jQuery('#field_type' + i).val() == 'M'
            && !jQuery('#msst_vtlc_field' + i).is(':checked')) {
            alert(jQuery('#field_label' + i).val() + ' is mandatory');
            try {
                jQuery('#msst_vtlc_field' + i).focus();
            } catch (e) {
            }
            return false;
        }
    }
    return true;
}

function captureAlreadyRegisteredUsersWpTiger() {
    document.getElementById('please-upgrade').style.fontSize = "14px";
    document.getElementById('please-upgrade').style.fontFamily = "Sans Serif";
    document.getElementById('please-upgrade').style.color = "red";
    document.getElementById('please-upgrade').innerHTML = "Please Upgrade to WP-Tiger-Pro for Sync feature";
}

function testVtigerCredentials(siteurl) {
     //  document.getElementById("vtiger_process").style.display=" ";
    jQuery.ajax({
        type: 'POST',
        url: ajaxurl,
        data: {
            'action': 'MSstWPTigertestVtigerAccess',
            'url': jQuery("#url").val(),
            'Mss_host_username': jQuery("#Mss_host_username").val(),
            'MSS_host_access_key': jQuery("#MSS_host_access_key").val(),
            'check': "checkVtigerWebservice",
        },
        success: function (data) {
            if (data.indexOf("success") != -1) {
                document.getElementById('msst-vtiger-test-results').style.fontWeight = "bold";
             //   document.getElementById('vtiger_process').style.display = "none";
                document.getElementById('msst-vtiger-test-results').style.color = "green";
                document.getElementById('msst-vtiger-test-results').innerHTML = "Vtiger connected successfully";
            } else {
                document.getElementById('msst-vtiger-test-results').style.fontWeight = "bold";
               // document.getElementById('vtiger_process').style.display = "none";
                //document.getElementById('msst-vtiger-test-results').style.color = "green";
                document.getElementById('msst-vtiger-test-results').style.color = "red";
                document.getElementById('msst-vtiger-test-results').innerHTML = 'Vtiger Credentials are wrong.<p id="vtiger_process" style="display:none">Processing</p>';
            }
        },
        error: function (errorThrown) {
            console.log(errorThrown);
        }
    });
}

function testDatabaseCredentials(siteurl) {
       //document.getElementById("database_process").style.display=" ";
    jQuery.ajax({
        type: 'POST',
        url: ajaxurl,
        data: {
            'action': 'MSstWPTigertestAccess',
            'hostname': jQuery("#hostname").val(),
            'dbuser': jQuery("#dbuser").val(),
            'dbpass': jQuery("#dbpass").val(),
            'dbname': jQuery("#dbname").val(),
            'check': "checkdatabase",
        },
        success: function (data) {
            if (data.indexOf("Success") != -1) {
                document.getElementById('msst-database-test-results').style.fontWeight = "bold";
         //       document.getElementById('database_process').style.display = "none";
                document.getElementById('msst-vtiger-test-results').style.color = "green";
                document.getElementById('msst-database-test-results').style.color = "green";
                document.getElementById('msst-database-test-results').innerHTML = "Database connected successfully";
            } else if (data == "1") {
                document.getElementById('msst-database-test-results').style.fontWeight = "bold";
           //     document.getElementById('database_process').style.display = "none";
                document.getElementById('msst-database-test-results').style.color = "red";
                document.getElementById('msst-database-test-results').innerHTML = "Not a VTiger database";
            } else {
                document.getElementById('msst-database-test-results').style.fontWeight = "bold";
             //   document.getElementById('database_process').style.display = "none";
                document.getElementById('msst-database-test-results').style.color = "red";
                document.getElementById('msst-database-test-results').innerHTML = "Database Credentials are wrong";
            }
        },
        error: function (errorThrown) {
            console.log(errorThrown);
        }
    });
}

function upgradetopro() {
    window.setTimeout("showmessage()", 100);
    window.setTimeout("hidemessage()", 5000);
}

function move(val) {
    window.setTimeout("showmessage()", 100);
    window.setTimeout("hidemessage()", 5000);
}

function showmessage() {
    document.getElementById('upgradetopro').style.display = "";
}

function hidemessage() {
    document.getElementById('upgradetopro').style.display = "none";
    document.getElementById('skipduplicate').checked = false;
    document.getElementById('generateshortcode').checked = false;
}

function select_allfields(formid, module) {
    var i;
    var data = "";
    var form = document.getElementById(formid);
    var chkall = form.elements['selectall'];
    var chkBx_count = form.elements['no_of_vt_fields'].value;
    if (chkall.checked == true) {
        for (i = 0; i < chkBx_count; i++) {
            if (document.getElementById('msst_vtlc_field' + i).disabled == false)
                document.getElementById('msst_vtlc_field' + i).checked = true;
        }
    } else {
        for (i = 0; i < chkBx_count; i++) {
            if (document.getElementById('msst_vtlc_field' + i).disabled == false)
                document.getElementById('msst_vtlc_field' + i).checked = false;
        }
    }
}

function saveSettings1() {
    window.setTimeout("showSuccessMessage()", 100);
    window.setTimeout("hideSuccessMessage()", 10000);
}

function showSuccessMessage() {
    document.getElementById('message-box').style.display = '';
}

function hideSuccessMessage() {
    document.getElementById('message-box').style.display = 'none';
}
function confirmDelete(a,b,c ){
    var mss_del=jQuery('#'+a+' option:selected').text();
    if(mss_del=='Delete'){
       var deletecan=confirm("Are you sure you want to delete");
        // your deletion code
    if(deletecan==true){
        alert('k')
    }
    else{
        alert('no');
    }
 
    }
}
